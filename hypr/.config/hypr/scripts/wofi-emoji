
#!/bin/sh

# The famous "get a menu of emojis to copy" script.
#
## Files
CONFIG="$HOME/.config/hypr/wofi/config"
STYLE="$HOME/.config/hypr/wofi/style.css"
COLORS="$HOME/.config/hypr/wofi/colors"

## Wofi Command
wofi_command="wofi -n --show dmenu \
			--conf ${CONFIG} --style ${STYLE} --color ${COLORS} \
			--width=1000 --height=500 \
			--cache-file=/dev/null \
			--hide-scroll --no-actions"

# Get user selection via dmenu from emoji file.
chosen=$(cut -d ';' -f1 ~/.local/share/larbs/emoji | ${wofi_command}  | sed "s/ .*//")

# Exit if none chosen.
[ -z "$chosen" ] && exit

# If you run this command with an argument, it will automatically insert the
# character. Otherwise, show a message that the emoji has been copied.
if [ -n "$1" ]; then
	printf "$chosen" | wl-copy
	wl-paste
else
	printf "$chosen" | wl-copy
	notify-send "'$chosen' copied to clipboard." &
  # wl-paste &
fi
